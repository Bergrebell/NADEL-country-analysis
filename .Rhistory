scatter.smooth(x=teachers, y=testscr, main="testscr ~ teachers")
scatter.smooth(x=teachers, y=testscr, main="testscore ~ teachers")
scatter.smooth(x=teachers, y=str, main="testscore ~ teachers")
scatter.smooth(x=str, y=testscr, main="testscore ~ teachers")
scatter.smooth(x=str, y=testscr, main="plot")
#Ex4
cor(str, testscr)
#Ex4
cor(testscr, str)
cor(str, testscr)
small = caschool[testscr < 20]
mean(small)
small
View(small)
View(small)
small = as.numeric(str < 20)
table(small)
large = as.numeric(str > 20)
table(large)
mean_small=mean(testscr[small==1])
mean_large=mean(testscr[large==1])
mean_small
#Ex6 Hypothesis testing: T-Test
t.test(testscr~str)
#Ex6 Hypothesis testing: T-Test
t.test(testscr, str)
#Ex6 Hypothesis testing: T-Test
t.test(testscr ~ small)
table(small)
table(large)
large = as.numeric(str >= 20)
table(small)
table(large)
#Ex6 Hypothesis testing: T-Test
t.test(testscr ~ small)
t.test(testscr ~ large)
t.test(testscr ~ large, data = caschool)
t.test(testscr ~ large, data = caschool)
t.test(testscr ~ large, data = data)
t.test(testscr ~ large, data = caschool)
t.test(testscr ~ large)
source('~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Workspace/VL2.R')
# Ex1
caschool <- read.csv("~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Workspace/caschool.csv")
attach(caschool)
summary(testscr)
hist(str)
#Ex2
mean(str)
median(str)
var(str)
sd(str)
#Ex3
scatter.smooth(x=str, y=testscr, main="plot")
#Ex4
cor(testscr, str)
#Ex5
small = as.numeric(str < 20)
large = as.numeric(str >= 20)
table(small)
table(large)
mean_small=mean(testscr[small==1])
mean_large=mean(testscr[large==1])
mean_small
mean_large
#Ex6 Hypothesis testing: T-Test
t.test(testscr ~ small)
t.test(testscr ~ large)
# Ex1
caschool <- read.csv("~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Workspace/caschool.csv")
attach(caschool)
summary(testscr)
hist(str)
#Ex2
mean(str)
median(str)
var(str)
sd(str)
#Ex3
scatter.smooth(x=str, y=testscr, main="plot")
#Ex4
cor(testscr, str)
#Ex5
small = as.numeric(str < 20)
large = as.numeric(str >= 20)
table(small)
table(large)
mean_small=mean(testscr[small==1])
mean_large=mean(testscr[large==1])
mean_small
mean_large
#Ex6 Hypothesis testing: T-Test
t.test(testscr ~ small)
t.test(testscr ~ large)
model = lm(testscr ~ str)
summary(model)
plot(str, testscr)
abline(model)
abline(model, lwd=3)
abline(model, col=3)
abline(model)
confint(model, level=0.95)
confint(model, level=0.95)
caschool <- read.csv("~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Workspace/caschool.csv")
attach(caschool)
model=lm(testscr~str+el_pct)
summary(model)
small = as.numeric(str < 20)
model2 = lm(testscr ~ small)
summary(model2)
small = as.numeric(str < 20)
View(caschool)
View(caschool)
large = as.numeric(str > 20)
model3 = lm(testscr ~ large)
summary(model3)
diff=mean(testscr[small==1])-mean(testscr[small==0])
mean(diff)
mean(testscr[small==1])
mean(testscr[small==0])
plot(model3)
plot(model3)
plot(large)
plot(large, testscr)
View(caschool)
summary(el_pct)
hist(el_pct)
hist(small)
plot(large, testscr)
cor(str, el_pct)
model4 = lm(testscr ~ large + el_pct)
plot(model4)
summary(model4)
model4 = lm(testscr ~ str + el_pct)
summary(model4)
summary(model4)
require(ggplot2)
ggplot2(model4)
ggplot(model4)
require(ggplot2)
ggplot(model4)
ggplot(model3)
summary(model4)
summary(model4)
model5 = lm(str ~ el_pct)
summary(model5)
plot(model5)
plot(str, el_pct)
abline(model5)
plot(el_pct, str)
abline(model5)
par(mfrow=c(2,2)) # init 4 charts in 1 panel
plot(model5)
########
#Exercises Linear Regression II
model6 = lm(testscr~str+el_pct+expn_stu)
summary(model6)
### Polynominal functions
avginc2<-avginc^2
### Polynominal functions
avginc^2
View(caschool)
caschool <- read.csv("~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Workspace/caschool.csv")
attach(caschool)
### Polynominal functions
avginc2 <- avginc^2
model7 = lm(testscr~str+avginc+avginc2)
plot(testscr,avginc)
plot(avginc, testscr)
abline(model7)
plot(model7)
plot(testscr,model7)
plot(testscr,predict(model7))
lines(testscr,predict(model7))
lines(testscr,model7)
plot(testscr,model7)
library(readr)
Tanzani <- read_csv("Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Country Analysis/Tanzani.csv")
View(Tanzani)
getwd()
View(Tanzani)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
dataset <- read_csv("Tanzani.csv")
attach(dataset)
summary(year)
knitr::opts_chunk$set(echo = TRUE)
# import and attach Tanzania dataset
library(readr)
dataset <- read_csv("Tanzani.csv")
attach(dataset)
summary(year)
View(dataset)
plot(year)
describe(year)
install.packages("describedata")
describe(year)
describe(dataset)
summary(year)
knitr::opts_chunk$set(echo = TRUE)
# import and attach Tanzania dataset
library(readr)
dataset <- read_csv("Tanzani.csv")
attach(dataset)
describe(year)
summary(year)
install.packages("Hmisc")
describe(year)
source('~/Dropbox (Personal)/NADEL ETHZ/Policy Evaluation and Applied Statistics/Country Analysis/Workbook_descriptive.R')
table1::label(tanzania$stunting) <- "Life Expectancy"
table1::label(tanzania$dead5) <- "Population"
table1::label(tanzania$Y_his) <- "Gdp Per Capita"
table1::table1(~stunting + dead5 + Y_his | year, data = tanzania)
# show how income has changed over time + rural vs urban
qplot(x = factor(year), y = Y_his, colour=factor(urban),
geom = "boxplot",
data = tanzania)
# show how income has changed over time + rural vs urban
qplot(x = factor(year), y = Y_his, colour=factor(urban),
geom = "boxplot",
data = tanzania)
# stunting ratio over time
ggplot(subset(tanzania, !is.na(tanzania$stunting)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = stunting == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="stunting") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# dead5 ratio over time
ggplot(subset(tanzania, !is.na(tanzania$dead5)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = dead5 == 1), position = "fill", width = 0.4) theme_classic() +
labs(y = "proportion", fill ="dead5") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# dead5 ratio over time
ggplot(subset(tanzania, !is.na(tanzania$dead5)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = dead5 == 1), position = "fill", width = 0.4) theme_classic() +
labs(y = "proportion", fill ="dead5") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# dead5 ratio over time
ggplot(subset(tanzania, !is.na(tanzania$dead5)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = dead5 == 1), position = "fill", width = 0.4) + scale_color_grey() + theme_classic() +
labs(y = "proportion", fill ="dead5") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE) + scale_fill_grey()
# dead5 ratio over time
ggplot(subset(tanzania, !is.na(tanzania$dead5)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = dead5 == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="dead5") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# stunting ratio over time
ggplot(subset(tanzania, !is.na(tanzania$stunting)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = stunting == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="stunting") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# show how income has changed over time + rural vs urban
qplot(x = factor(year), y = Y_his, colour=factor(urban),
geom = "boxplot",
data = tanzania)
View(t05)
View(t05)
qplot(x = factor(year), y = Y_his, colour=region,
geom = "boxplot",
data = tanzania)
qplot(x = region, y = Y_his, colour=factor(year),
geom = "boxplot",
data = tanzania)
# show how income has changed over time + rural vs urban
qplot(x = factor(year), y = Y_his, colour=factor(urban),
geom = "boxplot",
data = tanzania)
qplot(x = region, y = Y_his, colour=factor(year),
geom = "boxplot",
data = tanzania)
qplot(x = factor(year), y = water_improved_total, colour=factor(urban),
geom = "boxplot",
data = tanzania)
# stunting ratio over time
ggplot(subset(tanzania, !is.na(tanzania$stunting)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = stunting == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="stunting") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# water_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$water_improved_total)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = water_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="water_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# sanitation_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$sani_improved_total)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = sani_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="sani_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# sanitation_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$sani_improved_total)), aes(x=factor(year,levels=2005:2015)), y=factor(urban)) +
geom_bar(aes(fill = sani_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="sani_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# sanitation_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$sani_improved_total)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = sani_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="sani_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# water_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$water_improved_total)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = water_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="water_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# sanitation_improved_total ratio over time
ggplot(subset(tanzania, !is.na(tanzania$sani_improved_total)), aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = sani_improved_total == 1), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="sani_improved_total") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
tanzania$education <- if ( mo_primary == 1) {
'primary'
} else if ( mo_secondary == 1) {
'secondary'
} else if ( mo_noedu) {
'noedu'
} else {
'invalid'
}
tanzania$education <-
for (child in tanzania) {
if ( child$mo_primary == 1) {
'primary'
} else if ( child$mo_secondary == 1) {
'secondary'
} else if ( child$mo_noedu) {
'noedu'
} else {
'invalid'
}
}
View(tanzania)
for (datapoint in tanzania[1:3]) {
print(datapoint)
}
for (datapoint in tanzania[1:3]) {
print(datapoint$mo_secondary)
}
for (datapoint in tanzania[1:3]) {
print(datapoint[mo_secondary])
}
for (datapoint in tanzania[1:3]) {
print(datapoint$mo_secondary)
}
for (datapoint in tanzania[1:3]) {
print(df[i, "mo_noedu"])
}
for (datapoint in tanzania[1:3]) {
print(df[datapoint, "mo_noedu"])
}
for (datapoint in tanzania) {
print(datapoint)
}
print(datapoint['year'])
print(datapoint[1])
for (datapoint in tanzania) {
print(datapoint[1])
}
for (row in 1:nrow(tanzania)) {
for (row in 1:nrow(tanzania)) {
for (row in 1:nrow(tanzania)) {
for (row in 1:nrow(tanzania)) {
edu <- tanzania[row, "mo_noedu"]
if(edu == 0) {
print(paste("On")
}
}
}
# STUFF
# Flavio example:
stuntingratio_vs_years = c(mean(t05$stunting,na.rm=TRUE),mean(t10$stunting,na.rm=TRUE),mean(t15$stunting,na.rm=TRUE))
dead5ratio_vs_years = c(mean(t05$dead5),mean(t10$dead5),mean(t15$dead5))
my.df <- data.frame(c(1,2,3),
100*dead5ratio_vs_years,
100*stuntingratio_vs_years)
# stunting ratio over time => Flavios ergebnisse stimmen
mean(t05$stunting, na.rm = TRUE) # => 0.5694675
mean(tanzania$dead5, na.rm = TRUE) # => 0.5694675
length(which(t05$stunting == 0)) # => 3775
length(which(t05$stunting == 1)) # => 2854
3775 / sum(2854, 3775) # => 0.5694675
2854 / sum(2854, 3775) # => 0.4305325
stuntingratio_vs_years = c(mean(t05$stunting,na.rm=TRUE),mean(t10$stunting,na.rm=TRUE),mean(t15$stunting,na.rm=TRUE))
dead5ratio_vs_years = c(mean(t05$dead5,na.rm=TRUE),mean(t10$dead5,na.rm=TRUE),mean(t15$dead5,na.rm=TRUE))
average_income = c(mean(t05$Y_his),mean(t10$Y_his),mean(t15$Y_his))
graph_data <- data.frame(c("2005","2010","2015"),
100*dead5ratio_vs_years,
100*stuntingratio_vs_years,
average_income
)
colnames(graph_data) <- c("year","dead_percent","stunting_percent","income_avg")
ggplot(data=graph_data,
aes(x=year, y=dead_percent, group=1)) +
geom_line()+
geom_point()
ggplot(data=graph_data,
aes(x=year, y=stunting_percent, group=1)) +
geom_line()+
geom_point()
ggplot(data=subset(tanzania, !is.na(tanzania$stunting)),
aes(x = year,
fill = stunting == 1)) +
geom_bar(position = "stack")
ggplot(tanzania,
aes(x = year,
fill = dead5 == 1)) +
geom_bar(position = "dodge")
ggplot(tanzania, aes(x = year)) +
geom_bar(aes(fill = dead5 == 1), position = position_stack(reverse = TRUE)) +
theme(legend.position = "top")
for (row in 1:nrow(tanzania)) {
for (row in tanzania) {
library(foreach)
mat <- matrix(1:n,ncol =1),1,sin)
lapply(tanzania, function(x) if (x$mo_edu ==1) {1} else {0})
print(i[["mo_edu"]])
printf(i[["mo_edu"]])
print(i[["mo_edu"]])
for(i in tanzania) {
print(i[["mo_edu"]])
}
df.new = as.data.frame(lapply(tanzania, function(x) ifelse(x[['mo_edu']]==1, "JUUU", "NNNN")))
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"experiment","control")
View(tanzania)
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_primary == 1, 'primary',
ifelse(tanzania$mo_secondary ==1), 'secondary'))
ifelse(tanzania$mo_secondary ==1, 'secondary'))
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_primary == 1, 'primary',
ifelse(tanzania$mo_secondary ==1, 'secondary')))
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_primary == 1, 'primary',
ifelse(tanzania$mo_secondary ==1, 'secondary', 'invalid')))
View(tanzania)
# read and attach Tanzania dataset
tanzania <- read_csv("Tanzani.csv")
attach(tanzania)
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_primary == 1, 'primary',
ifelse(tanzania$mo_secondary ==1, 'secondary', 'invalid')))
View(tanzania)
View(tanzania)
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_primary == 1, 'secondary',
ifelse(tanzania$mo_secondary ==1, 'primary', 'invalid')))
tanzania$group <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_secondary == 1, 'secondary',
ifelse(tanzania$mo_primary ==1, 'primary', 'invalid')))
# read and attach Tanzania dataset
tanzania <- read_csv("Tanzani.csv")
attach(tanzania)
tanzania$agg_education <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_secondary == 1, 'secondary',
ifelse(tanzania$mo_primary ==1, 'primary', 'invalid')))
View(tanzania)
fritz <- c(895, 416, 885, 205, 0)
ggplot(fritz)
ggplot(fritz) + geom_boxplot()
boxplot(fritz)
male = c(127,44,28,83,0,6,78,6,5,213,73,20,214,28,11)
boxplot(male)
fritz = c(895, 416, 885, 205, 0)
boxplot(fritz)
typeof(male)
# read and attach Tanzania dataset
tanzania <- read_csv("Tanzani.csv")
attach(tanzania)
tanzania$agg_education <- ifelse(tanzania$mo_noedu == 1,"noedu",
ifelse(tanzania$mo_secondary == 1, 'secondary',
ifelse(tanzania$mo_primary ==1, 'primary', 'invalid')))
View(tanzania)
as.data.frame(table(tanzania$agg_education))
# education over time
ggplot(tanzania, aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = agg_education), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="agg_education") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
tanzania$agg_education_indoubt_edu <- ifelse(tanzania$mo_secondary == 1, 'secondary',
ifelse(tanzania$mo_primary ==1, 'primary',
ifelse(tanzania$mo_noedu == 1,"noedu", "invalid")))
as.data.frame(table(tanzania$agg_education))
as.data.frame(table(tanzania$agg_education_indoubt_edu))
ggplot(tanzania, aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = agg_education_indoubt_edu), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="agg_education_indoubt_edu") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# education over time
ggplot(tanzania, aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = agg_education), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="agg_education") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
ggplot(tanzania, aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = agg_education_indoubt_edu), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="agg_education_indoubt_edu") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
# education over time
ggplot(tanzania, aes(x=factor(year,levels=2005:2015))) +
geom_bar(aes(fill = agg_education), position = "fill", width = 0.4) + theme_classic() +
labs(y = "proportion", fill ="agg_education") +
scale_x_discrete('year', breaks=factor(2005:2015), drop=TRUE)
ggplot(tanzania, aes(x=year, y=stunting, fill=region)) +
geom_area()
ggplot(subset(tanzania, !is.na(tanzania$stunting)), aes(x=year, y=stunting, fill=region)) +
geom_area()
ggplot(tanzania, aes(x=year, y=dead5, fill=region)) +
geom_area()
# descriptive summary table - V1 (kein latex)
library(table1)
library(rvest)
table1::label(tanzania$stunting) <- "Life Expectancy"
table1::label(tanzania$dead5) <- "Population"
table1::label(tanzania$Y_his) <- "Gdp Per Capita"
table1::table1(~stunting + dead5 + Y_his | year, data = tanzania)
